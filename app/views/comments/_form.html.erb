<div id="comment_form_<%= dom_id(parent) %>">
  <%= form_with(model: comment, url: comments_path, local: false, class: "space-y-3") do |form| %>
    <%= form.hidden_field :parent_type, value: parent.class.name %>
    <%= form.hidden_field :parent_id, value: parent.id %>

    <% if comment.errors.any? %>
      <div class="p-3 mb-3 text-sm text-red-700 bg-red-100 rounded">
        <strong>Errors:</strong>
        <ul class="list-disc list-inside">
          <% comment.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div>
      <%= form.text_area :content, rows: 3, placeholder: "Write a comment...", class: "w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" %>
    </div>

    <div>
      <%= form.submit "Post Comment", class: "px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 cursor-pointer" %>
    </div>
  <% end %>
</div>